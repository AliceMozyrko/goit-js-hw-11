{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const markup = images => {\n  return images.map(\n    ({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n        <li class=\"gallery-item\">\n          <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" />\n            <div class=\"card-body\">\n              <p class=\"text-body\"><span class=\"bigger-text\">Likes: </span>${likes}</p>\n              <p class=\"text-body\"><span class=\"bigger-text\">Views: </span>${views}</p>\n              <p class=\"text-body\"><span class=\"bigger-text\">Comments: </span>${comments}</p>\n              <p class=\"text-body\"><span class=\"bigger-text\">Downloads: </span>${downloads}</p>\n          </div>\n      </li>\n\n\n      `\n  )\n    .join(\"\")\n};","const API_KEY = \"43811002-0821001961ff17859e55caea7\"\nconst BASE_URL = \"https://pixabay.com/api/\"\n\nexport const fetchPhotos = (query) => {\n  const searchParams = new URLSearchParams({\n    q: query,\n    key: API_KEY,\n    image_type: \"photo\",\n    orientation: \"horizontal\", \n    safesearch: true\n  })\n  return fetch(`${BASE_URL}?${searchParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.statusText)\n    }\n\n    return response.json()\n  })\n}","// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { markup } from \"./js/render-functions.js\";\nimport { fetchPhotos } from \"./js/pixabay-api.js\";\n\nconst galleryEl = document.querySelector(\".gallery-list\")\nconst searchFormEl = document.querySelector(\".search-form\")\nconst loaderEl = document.querySelector(\".loader\")\n\nloaderEl.classList.add(\"is-hidden\")\n\nfunction onSearchFormSubmit(event) {\n  event.preventDefault()\n  const searchQuery = event.target.elements.query.value.trim()\n  console.log(searchQuery);\n  if (searchQuery === \"\") {\n    galleryEl.innerHTML = \"\"\n    event.target.reset()\n    iziToast.error({\n      message: \"Input field can't be empty\",\n      timeout: 3000,\n    })\n    return;\n  }\n\n  galleryEl.innerHTML = \"\";\n  loaderEl.classList.remove(\"is-hidden\")\n\n  fetchPhotos(searchQuery) \n    .then(imagesData => {\n      if (imagesData.total === 0) {\n        iziToast.error({\n        message: \"Sorry, there are no images matching your search query. Please try again!\",\n        timeout: 3000,\n      })\n      }\n      galleryEl.innerHTML = markup(imagesData.hits); \n    })\n    .catch(error => console.log(error))\n    .finally(() => {\n      event.target.reset()\n      loaderEl.classList.add(\"is-hidden\")\n    })\n}\n\nsearchFormEl.addEventListener(\"submit\", onSearchFormSubmit)\n"],"names":["markup","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","API_KEY","BASE_URL","fetchPhotos","query","searchParams","response","galleryEl","searchFormEl","loaderEl","onSearchFormSubmit","event","searchQuery","iziToast","imagesData","error"],"mappings":"svBAAO,MAAMA,EAASC,GACbA,EAAO,IACZ,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAO;AAAA;AAAA,4CAEtCN,CAAY,UAAUE,CAAI;AAAA;AAAA,6EAEOC,CAAK;AAAA,6EACLC,CAAK;AAAA,gFACFC,CAAQ;AAAA,iFACPC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,OAMvF,EACE,KAAK,EAAE,EChBNC,EAAU,qCACVC,EAAW,2BAEJC,EAAeC,GAAU,CACpC,MAAMC,EAAe,IAAI,gBAAgB,CACvC,EAAGD,EACH,IAAKH,EACL,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACD,OAAO,MAAM,GAAGC,CAAQ,IAAIG,CAAY,EAAE,EAAE,KAAKC,GAAY,CAC3D,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,UAAU,EAGrC,OAAOA,EAAS,KAAM,CAC1B,CAAG,CACH,ECVMC,EAAY,SAAS,cAAc,eAAe,EAClDC,EAAe,SAAS,cAAc,cAAc,EACpDC,EAAW,SAAS,cAAc,SAAS,EAEjDA,EAAS,UAAU,IAAI,WAAW,EAElC,SAASC,EAAmBC,EAAO,CACjCA,EAAM,eAAgB,EACtB,MAAMC,EAAcD,EAAM,OAAO,SAAS,MAAM,MAAM,KAAM,EAE5D,GADA,QAAQ,IAAIC,CAAW,EACnBA,IAAgB,GAAI,CACtBL,EAAU,UAAY,GACtBI,EAAM,OAAO,MAAO,EACpBE,EAAS,MAAM,CACb,QAAS,6BACT,QAAS,GACf,CAAK,EACD,MACD,CAEDN,EAAU,UAAY,GACtBE,EAAS,UAAU,OAAO,WAAW,EAErCN,EAAYS,CAAW,EACpB,KAAKE,GAAc,CACdA,EAAW,QAAU,GACvBD,EAAS,MAAM,CACf,QAAS,2EACT,QAAS,GACjB,CAAO,EAEDN,EAAU,UAAYf,EAAOsB,EAAW,IAAI,CAClD,CAAK,EACA,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAM,CACbJ,EAAM,OAAO,MAAO,EACpBF,EAAS,UAAU,IAAI,WAAW,CACxC,CAAK,CACL,CAEAD,EAAa,iBAAiB,SAAUE,CAAkB"}